package dev.namn.cli

import dev.namn.cli.models.FlavorInfo
import dev.namn.cli.models.ProjectInfo

/**
 * Utility class for formatting CLI output with beautiful tables and emojis
 */
class OutputFormatter {

    /**
     * Displays project information with beautiful formatting
     */
    fun displayProjectInfo(projectInfo: ProjectInfo) {
        println()
        println("ðŸš€ Project: ${projectInfo.name}")
        println("ðŸ“± Android Build Configuration")
        println()
        
        displayFlavors(projectInfo.flavors)
        
        if (projectInfo.buildTypes.isNotEmpty()) {
            displayBuildTypes(projectInfo.buildTypes)
        }
        
        println()
        println("âœ¨ Generated by grw CLI with Gradle Tooling API")
        println()
    }

    /**
     * Displays product flavors in a beautiful table format
     */
    private fun displayFlavors(flavors: List<FlavorInfo>) {
        println("ðŸŽ¯ Product Flavors:")
        println("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
        
        if (flavors.isEmpty()) {
            println("â”‚ No product flavors configured           â”‚")
        } else {
            flavors.forEach { flavor ->
                val nameDisplay = "â”‚ â€¢ ${flavor.name}".padEnd(39) + "â”‚"
                println(nameDisplay)
                
                if (flavor.dimension != null) {
                    val dimDisplay = "â”‚   â””â”€ dimension: ${flavor.dimension}".padEnd(39) + "â”‚"
                    println(dimDisplay)
                }
            }
        }
        
        println("â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
    }

    /**
     * Displays build types in a beautiful table format
     */
    private fun displayBuildTypes(buildTypes: List<String>) {
        println()
        println("ðŸ—ï¸  Build Types:")
        println("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
        
        buildTypes.forEach { buildType ->
            val display = "â”‚ â€¢ $buildType".padEnd(39) + "â”‚"
            println(display)
        }
        
        println("â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
    }
} 
